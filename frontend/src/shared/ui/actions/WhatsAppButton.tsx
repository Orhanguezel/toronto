// src/shared/ui/actions/WhatsAppButton.tsx
"use client";
import * as React from "react";

type Props = {
  number?: string;
  label?: string;
  /** px veya CSS length (örn: 'clamp(44px,5vw,80px)') */
  size?: number | string;   // default 66px
  className?: string;
  style?: React.CSSProperties;
};

export default function WhatsAppButton({
  number,
  label = "WhatsApp ile sohbet et",
  size = 66,
  className,
  style,
}: Props) {
  const n = number || process.env.NEXT_PUBLIC_WHATSAPP || "";
  const href = n ? `https://wa.me/${n}` : "https://wa.me";

  const baseSize = typeof size === "number" ? `${size}px` : size;
  // Dışarıdan style.width/height verilmişse onları kullan, yoksa baseSize
  const boxW = style?.width ?? baseSize;
  const boxH = style?.height ?? baseSize;

  return (
    <a
      href={href}
      target="_blank"
      rel="noopener noreferrer"
      aria-label={label}
      className={className}
      style={{
        display: "inline-block",
        width: boxW,
        height: boxH,
        lineHeight: 0,
        borderRadius: 16,       // figma’daki kare radius hissi
        overflow: "hidden",
        cursor: "pointer",
        ...style,               // çağıran override edebilir
      }}
    >
      {/* SVG, container’ı %100 doldurur (responsif) */}
      <svg
        width="100%"
        height="100%"
        viewBox="0 0 66 66"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden
        focusable="false"
        preserveAspectRatio="xMidYMid meet"
      >
        <path
          d="M65.8004 14.9672C65.7698 13.5552 65.6566 12.1461 65.4614 10.7473C65.2254 9.50326 64.8235 8.29652 64.2665 7.15938C63.0487 4.75375 61.0953 2.79925 58.6904 1.58C57.5604 1.02609 56.3615 0.625363 55.1255 0.388417C53.716 0.189709 52.2959 0.0743003 50.8727 0.0427917C50.2703 0.01975 49.4902 0.00987507 49.1281 0.00987507L16.7118 0C16.3497 0 15.5696 0.00987497 14.9672 0.0329166C13.5552 0.0635306 12.1461 0.176738 10.7473 0.371958C9.50326 0.60797 8.29652 1.00985 7.15938 1.56683C4.75375 2.78466 2.79925 4.73801 1.58 7.14292C1.02609 8.27295 0.625363 9.47181 0.388417 10.7078C0.188608 12.1173 0.0720999 13.5374 0.0395003 14.9606C0.0197503 15.563 0.00658364 16.3431 0.00658364 16.7052L0 49.1215C0 49.4836 0.00987497 50.2638 0.0329166 50.8661C0.0635306 52.2782 0.176738 53.6872 0.371958 55.086C0.60797 56.3301 1.00985 57.5368 1.56683 58.674C2.78466 61.0796 4.73801 63.0341 7.14292 64.2533C8.27295 64.8073 9.47181 65.208 10.7078 65.4449C12.1174 65.6436 13.5375 65.759 14.9606 65.7905C15.563 65.8136 16.3431 65.8235 16.7052 65.8235L49.1215 65.83C49.4836 65.83 50.2637 65.8202 50.8661 65.7971C52.2782 65.7665 53.6872 65.6533 55.086 65.4581C56.3301 65.2221 57.5368 64.8202 58.674 64.2632C61.0808 63.046 63.0365 61.0925 64.2566 58.6871C64.8105 57.5571 65.2113 56.3582 65.4482 55.1223C65.648 53.7127 65.7645 52.2927 65.7971 50.8694C65.8169 50.267 65.83 49.4869 65.83 49.1248L65.8333 16.7118C65.8333 16.3497 65.8235 15.5696 65.8004 14.9672ZM33.631 55.8168H33.6211C29.7024 55.8197 25.846 54.8372 22.4064 52.9596L9.96387 56.2217L13.295 44.0655C10.7159 39.5899 9.68531 34.3884 10.3631 29.2675C11.041 24.1465 13.3894 19.3923 17.0442 15.7418C20.699 12.0914 25.456 9.74867 30.5777 9.07692C35.6995 8.40517 40.8997 9.44192 45.3723 12.0264C49.8449 14.6109 53.3398 18.5988 55.3153 23.3717C57.2908 28.1446 57.6364 33.436 56.2987 38.4253C54.9609 43.4147 52.0144 47.8233 47.9161 50.9677C43.8178 54.1121 38.7966 55.8165 33.631 55.8168Z"
          fill="#218FFF"
        />
        <path
          d="M33.6463 12.8353C30.1607 12.8343 26.7385 13.7671 23.7355 15.5368C20.7325 17.3064 18.2585 19.8482 16.5707 22.8979C14.8829 25.9476 14.0429 29.3938 14.1381 32.8781C14.2334 36.3624 15.2603 39.7575 17.1122 42.7105L17.5764 43.4478L15.6046 50.6434L22.9879 48.7079L23.6989 49.1292C26.7033 50.912 30.133 51.8513 33.6265 51.8482H33.6364C38.8103 51.849 43.7726 49.7946 47.4316 46.1367C51.0907 42.4789 53.1469 37.5172 53.1478 32.3434C53.1486 27.1695 51.0942 22.2072 47.4363 18.5481C43.7784 14.889 38.8168 12.8329 33.643 12.832L33.6463 12.8353ZM45.1144 40.7157C44.6836 41.4288 44.1095 42.0447 43.4285 42.5246C42.7475 43.0045 41.9743 43.3379 41.1579 43.5038C39.9256 43.7155 38.661 43.6366 37.4646 43.2734C36.3294 42.9214 35.2141 42.5083 34.1236 42.0357C30.0739 40.0034 26.6222 36.9532 24.107 33.1844C22.7345 31.44 21.9016 29.3326 21.7107 27.1212C21.6955 26.2085 21.8702 25.3027 22.2238 24.4612C22.5774 23.6197 23.1022 22.8609 23.7647 22.233C23.9613 22.0103 24.2014 21.8302 24.4704 21.7039C24.7393 21.5777 25.0313 21.5079 25.3282 21.499C25.7166 21.499 26.1084 21.499 26.4507 21.5187C26.8128 21.5352 27.2934 21.3805 27.7674 22.526C28.2611 23.6978 29.4329 26.5846 29.5778 26.8776C29.6702 27.0314 29.723 27.2056 29.7317 27.3849C29.7403 27.5641 29.7044 27.7426 29.6271 27.9046C29.4801 28.2571 29.2828 28.5864 29.0412 28.8822C28.745 29.2245 28.4257 29.6459 28.1624 29.9092C27.8661 30.2022 27.5633 30.5182 27.9023 31.1041C28.7843 32.6109 29.8834 33.9796 31.1644 35.166C32.557 36.4008 34.1529 37.3853 35.8813 38.0758C36.4672 38.3721 36.8096 38.3194 37.1519 37.9277C37.4942 37.536 38.6167 36.216 39.0084 35.6301C39.4001 35.0442 39.7885 35.1429 40.3251 35.3372C40.8616 35.5314 43.7484 36.9501 44.3343 37.2463C44.9202 37.5426 45.3119 37.6841 45.4568 37.9277C45.615 38.8706 45.4961 39.8391 45.1144 40.7157Z"
          fill="#218FFF"
        />
      </svg>
    </a>
  );
}
